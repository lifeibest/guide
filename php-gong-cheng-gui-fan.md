# PHP 工程规范

**一、应用分层**![](/assets/import.png)

* 开放接口层:可直接封装Service接口暴露成RPC接口;通过Web封装成http接口;网关控 制层等。

* 终端显示层:各个端的模板渲染并执行显示层。当前主要是velocity渲染，JS渲染，JSP渲 染，移动端展示层等。

* Web层:主要是对访问控制进行转发，各类基本参数校验，或者不复用的业务简单处理等。

* Service层:相对具体的业务逻辑服务层。

* Manager层:通用业务处理层，它有如下特征:

  ```
         1\) 对第三方平台封装的层，预处理返回结果及转化异常信息;    

         2\) 对Service层通用能力的下沉，如缓存方案、中间件通用处理;3\) 与DAO层交互，对DAO的业务通用能力的封装。
  ```

* DAO层:数据访问层，与底层Mysql、Oracle、Hbase、OB进行数据交互。

* 外部接口或第三方平台:包括其它部门RPC开放接口，基础平台，其它公司的HTTP接口。



**二、compser**

